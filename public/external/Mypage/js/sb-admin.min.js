/*!
 * Start Bootstrap - SB Admin v5.0.2 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */

// Side bar
! function (t) {
    "use strict";
    t("#sidebarToggle").click(function (e) {
        e.preventDefault(), t("body").toggleClass("sidebar-toggled"), t(".sidebar").toggleClass("toggled")
    }), t("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel", function (e) {
        if (768 < $window.width()) {
            var o = e.originalEvent,
                t = o.wheelDelta || -o.detail;
            this.scrollTop += 30 * (t < 0 ? 1 : -1), e.preventDefault()
        }
    }), t(document).scroll(function () {
        100 < t(this).scrollTop() ? t(".scroll-to-top") : t(".scroll-to-top")
    }), t(document).on("click", "a.scroll-to-top", function (e) {
        var o = t(this);
        t("html, body").stop().animate({
            scrollTop: t(o.attr("href")).offset().top
        }, 1e3, "easeInOutExpo"), e.preventDefault()
    })
}(jQuery);

// ToolTip Code
$(function () {
    $('[data-toggle="tooltip"]').tooltip()
});

// AJAX
$(document).ready(function () {
    // GET REQUEST
    $("#submit").click(function (event) {
        event.preventDefault();
        ajaxPost();
    });

    function ajaxPost() {
        // PREPARE FORM DATA
        let data = {
            email: $("#email").val(),
            phoneNumber: $("#phoneNumber").val(),
            bio: $("#bio").val()
        }
        // DO POST
        $.ajax({
            type: "POST",
            contentType: "application/json",
            url: `/${userId}/admin/submit`,
            data: JSON.stringify(data),
            dataType: 'json',
            success: function (data) {
                console.log(JSON.stringify(data));
                Swal.fire(
                    'Modification completed',
                    '',
                    'success'
                )
            },
            error: function (e) {
                Swal.fire(
                    'Failed to save',
                    'If this message is output continuously, please contact to administrator.',
                    'error'
                )
            }
        });
    }
})